// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.26.0

package postgres

import (
	"github.com/jackc/pgx/v5/pgtype"
	pgvector_go "github.com/pgvector/pgvector-go"
)

// Messages within chat sessions with role (user/assistant/system)
type CognitiveChatMessage struct {
	ID             int32            `json:"id"`
	SessionID      int32            `json:"session_id"`
	Role           string           `json:"role"`
	Content        string           `json:"content"`
	ReferencedDocs []int32          `json:"referenced_docs"`
	TokensUsed     pgtype.Int4      `json:"tokens_used"`
	CreatedAt      pgtype.Timestamp `json:"created_at"`
}

// Conversational AI sessions for RAG-based chat
type CognitiveChatSession struct {
	ID             int32            `json:"id"`
	OrganizationID int32            `json:"organization_id"`
	AccountID      int32            `json:"account_id"`
	Title          pgtype.Text      `json:"title"`
	CreatedAt      pgtype.Timestamp `json:"created_at"`
	UpdatedAt      pgtype.Timestamp `json:"updated_at"`
}

// Vector embeddings for documents using OpenAI text-embedding-3-small (1536 dimensions)
type CognitiveDocumentEmbedding struct {
	ID             int32 `json:"id"`
	DocumentID     int32 `json:"document_id"`
	OrganizationID int32 `json:"organization_id"`
	// Vector embedding for semantic similarity search
	Embedding      pgvector_go.Vector `json:"embedding"`
	ContentHash    pgtype.Text        `json:"content_hash"`
	ContentPreview pgtype.Text        `json:"content_preview"`
	// Index for chunked documents (0 for single-chunk docs)
	ChunkIndex pgtype.Int4      `json:"chunk_index"`
	CreatedAt  pgtype.Timestamp `json:"created_at"`
	UpdatedAt  pgtype.Timestamp `json:"updated_at"`
}

// Stores uploaded documents (PDFs) with extracted text for RAG
type DocumentsDocument struct {
	ID             int32  `json:"id"`
	OrganizationID int32  `json:"organization_id"`
	FileAssetID    int32  `json:"file_asset_id"`
	Title          string `json:"title"`
	FileName       string `json:"file_name"`
	ContentType    string `json:"content_type"`
	FileSize       int64  `json:"file_size"`
	// Text extracted from PDF using OCR or direct parsing
	ExtractedText pgtype.Text `json:"extracted_text"`
	// Processing status: pending, processing, processed, failed
	Status    string           `json:"status"`
	Metadata  []byte           `json:"metadata"`
	CreatedAt pgtype.Timestamp `json:"created_at"`
	UpdatedAt pgtype.Timestamp `json:"updated_at"`
}

// Stores potential duplicate resources found via vector similarity and LLM adjudication
type DuplicateCandidate struct {
	ID                  int32 `json:"id"`
	ResourceID          int32 `json:"resource_id"`
	CandidateResourceID int32 `json:"candidate_resource_id"`
	// Cosine similarity score from pgvector (0.0000 = completely different, 1.0000 = identical)
	SimilarityScore pgtype.Numeric `json:"similarity_score"`
	// How the duplicate was detected: exact_match (similarity >= 0.95) or llm_adjudicated (similarity >= 0.85, confirmed by LLM)
	DetectionMethod  string           `json:"detection_method"`
	ConfidenceLevel  pgtype.Text      `json:"confidence_level"`
	LlmReason        pgtype.Text      `json:"llm_reason"`
	LlmSimilarFields []byte           `json:"llm_similar_fields"`
	LlmResponse      []byte           `json:"llm_response"`
	OrganizationID   int32            `json:"organization_id"`
	Status           pgtype.Text      `json:"status"`
	CreatedAt        pgtype.Timestamp `json:"created_at"`
	UpdatedAt        pgtype.Timestamp `json:"updated_at"`
}

// Example module demonstrating Clean Architecture patterns with file uploads, OCR/LLM processing, RBAC, approval workflows, and multi-tenancy
type ExampleResource struct {
	ID             int32       `json:"id"`
	ResourceNumber string      `json:"resource_number"`
	Title          string      `json:"title"`
	Description    pgtype.Text `json:"description"`
	StatusID       int16       `json:"status_id"`
	FileID         pgtype.Int4 `json:"file_id"`
	// Raw OCR-extracted text and metadata
	ExtractedData []byte `json:"extracted_data"`
	// LLM-processed structured data
	ProcessedData []byte `json:"processed_data"`
	// AI confidence score between 0 and 1
	Confidence         pgtype.Numeric `json:"confidence"`
	OrganizationID     int32          `json:"organization_id"`
	CreatedByAccountID pgtype.Int4    `json:"created_by_account_id"`
	// Workflow status: pending, approved, rejected
	ApprovalStatus        pgtype.Text      `json:"approval_status"`
	ApprovalAssignedToID  pgtype.Int4      `json:"approval_assigned_to_id"`
	ApprovalActionTakerID pgtype.Int4      `json:"approval_action_taker_id"`
	ApprovalNotes         pgtype.Text      `json:"approval_notes"`
	Metadata              []byte           `json:"metadata"`
	IsActive              bool             `json:"is_active"`
	CreatedAt             pgtype.Timestamp `json:"created_at"`
	UpdatedAt             pgtype.Timestamp `json:"updated_at"`
}

type FileManagerFileAsset struct {
	ID               int32              `json:"id"`
	FileName         string             `json:"file_name"`
	OriginalFileName string             `json:"original_file_name"`
	StoragePath      string             `json:"storage_path"`
	BucketName       string             `json:"bucket_name"`
	FileSize         int64              `json:"file_size"`
	MimeType         string             `json:"mime_type"`
	FileCategoryID   int16              `json:"file_category_id"`
	FileContextID    int16              `json:"file_context_id"`
	IsPublic         pgtype.Bool        `json:"is_public"`
	EntityType       pgtype.Text        `json:"entity_type"`
	EntityID         pgtype.Int4        `json:"entity_id"`
	Purpose          pgtype.Text        `json:"purpose"`
	Metadata         []byte             `json:"metadata"`
	CreatedAt        pgtype.Timestamptz `json:"created_at"`
	UpdatedAt        pgtype.Timestamptz `json:"updated_at"`
}

type FileManagerFileCategory struct {
	ID           int16  `json:"id"`
	Name         string `json:"name"`
	MaxSizeBytes int64  `json:"max_size_bytes"`
}

type FileManagerFileContext struct {
	ID   int16  `json:"id"`
	Name string `json:"name"`
}

// User accounts within organizations
type OrganizationsAccount struct {
	ID             int32  `json:"id"`
	OrganizationID int32  `json:"organization_id"`
	Email          string `json:"email"`
	FullName       string `json:"full_name"`
	// Stytch member identifier (member_xxx)
	StytchMemberID pgtype.Text `json:"stytch_member_id"`
	// Stytch role identifier assigned to the member
	StytchRoleID pgtype.Text `json:"stytch_role_id"`
	// Human-readable Stytch role slug assigned to the member
	StytchRoleSlug pgtype.Text `json:"stytch_role_slug"`
	// Whether Stytch reports the member email as verified
	StytchEmailVerified bool `json:"stytch_email_verified"`
	// Last known role for business logic (e.g., owner, reviewer, employee)
	Role        string           `json:"role"`
	Status      string           `json:"status"`
	LastLoginAt pgtype.Timestamp `json:"last_login_at"`
	CreatedAt   pgtype.Timestamp `json:"created_at"`
	UpdatedAt   pgtype.Timestamp `json:"updated_at"`
}

// Organizations (tenants) in the system
type OrganizationsOrganization struct {
	ID int32 `json:"id"`
	// URL-friendly unique identifier for organization
	Slug   string `json:"slug"`
	Name   string `json:"name"`
	Status string `json:"status"`
	// Stytch organization identifier (org_xxx)
	StytchOrgID pgtype.Text `json:"stytch_org_id"`
	// Optional Stytch connection or project identifier associated with the organization
	StytchConnectionID pgtype.Text `json:"stytch_connection_id"`
	// Optional Stytch connection name associated with the organization
	StytchConnectionName pgtype.Text      `json:"stytch_connection_name"`
	CreatedAt            pgtype.Timestamp `json:"created_at"`
	UpdatedAt            pgtype.Timestamp `json:"updated_at"`
}

// Stores vector embeddings for resources using OpenAI text-embedding-3-small (1536 dimensions)
type ResourceEmbedding struct {
	ID         int32 `json:"id"`
	ResourceID int32 `json:"resource_id"`
	// Vector embedding for semantic similarity search (1536 dimensions from OpenAI)
	Embedding      pgvector_go.Vector `json:"embedding"`
	OrganizationID int32              `json:"organization_id"`
	// SHA-256 hash of normalized content for exact duplicate detection
	ContentHash    pgtype.Text      `json:"content_hash"`
	ContentPreview pgtype.Text      `json:"content_preview"`
	CreatedAt      pgtype.Timestamp `json:"created_at"`
	UpdatedAt      pgtype.Timestamp `json:"updated_at"`
}

// Tracks usage quotas per organization for fast quota checks
type SubscriptionBillingQuotaTracking struct {
	ID             int32            `json:"id"`
	OrganizationID int32            `json:"organization_id"`
	MaxSeats       pgtype.Int4      `json:"max_seats"`
	PeriodStart    pgtype.Timestamp `json:"period_start"`
	PeriodEnd      pgtype.Timestamp `json:"period_end"`
	LastSyncedAt   pgtype.Timestamp `json:"last_synced_at"`
	CreatedAt      pgtype.Timestamp `json:"created_at"`
	UpdatedAt      pgtype.Timestamp `json:"updated_at"`
	// Remaining invoices in current billing period (decremented on use)
	InvoiceCount int32 `json:"invoice_count"`
}

// Stores subscription details from Polar, synced via webhooks
type SubscriptionBillingSubscription struct {
	ID             int32 `json:"id"`
	OrganizationID int32 `json:"organization_id"`
	// Polar customer ID (maps to organization via stytch_org_id)
	ExternalCustomerID string           `json:"external_customer_id"`
	SubscriptionID     string           `json:"subscription_id"`
	SubscriptionStatus string           `json:"subscription_status"`
	ProductID          string           `json:"product_id"`
	ProductName        pgtype.Text      `json:"product_name"`
	PlanName           pgtype.Text      `json:"plan_name"`
	CurrentPeriodStart pgtype.Timestamp `json:"current_period_start"`
	CurrentPeriodEnd   pgtype.Timestamp `json:"current_period_end"`
	CancelAtPeriodEnd  pgtype.Bool      `json:"cancel_at_period_end"`
	CanceledAt         pgtype.Timestamp `json:"canceled_at"`
	CreatedAt          pgtype.Timestamp `json:"created_at"`
	UpdatedAt          pgtype.Timestamp `json:"updated_at"`
	Metadata           []byte           `json:"metadata"`
}
